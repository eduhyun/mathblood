<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>수학 혈액형 검사</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .question-card {
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            background-color: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .result-card {
            border: 1px solid #cbd5e1;
            border-radius: 0.75rem;
            padding: 2rem;
            background-color: #f8fafc;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .result-title {
            font-size: 1.875rem; /* 30px */
            font-weight: 700;
            color: #1e40af; /* Tailwind blue-800 */
            margin-bottom: 1rem;
        }
        .result-subtitle {
            font-size: 1.25rem; /* 20px */
            font-weight: 600;
            color: #1d4ed8; /* Tailwind blue-700 */
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .result-text p, .result-text li {
            margin-bottom: 0.75rem;
            line-height: 1.75;
            color: #374151; /* Tailwind gray-700 */
        }
        .result-text ul {
            list-style-type: disc;
            padding-left: 1.5rem;
        }
        .btn-primary {
            background-color: #2563eb; /* Tailwind blue-600 */
            color: white;
            font-weight: 700;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            transition: background-color 0.3s;
            cursor: pointer;
        }
        .btn-primary:hover {
            background-color: #1d4ed8; /* Tailwind blue-700 */
        }
        .btn-secondary {
            background-color: #64748b; /* Tailwind slate-500 */
            color: white;
            font-weight: 700;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            transition: background-color 0.3s;
            cursor: pointer;
            margin-left: 0.5rem;
        }
        .btn-secondary:hover {
            background-color: #475569; /* Tailwind slate-600 */
        }
        /* Custom radio button style */
        .custom-radio input[type="radio"] {
            opacity: 0;
            position: fixed;
            width: 0;
        }
        .custom-radio label {
            display: inline-block;
            background-color: #e2e8f0; /* Tailwind gray-200 */
            padding: 0.5rem 1rem;
            font-family: sans-serif, Arial;
            font-size: 1rem;
            border: 2px solid #e2e8f0; /* Tailwind gray-200 */
            border-radius: 0.375rem; /* rounded-md */
            cursor: pointer;
            margin-right: 0.5rem;
            transition: all 0.2s ease-in-out;
        }
        .custom-radio input[type="radio"]:checked + label {
            background-color: #3b82f6; /* Tailwind blue-500 */
            border-color: #2563eb; /* Tailwind blue-600 */
            color: white;
        }
        .custom-radio label:hover {
            background-color: #cbd5e1; /* Tailwind gray-300 */
        }
        .custom-radio input[type="radio"]:focus + label {
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5); /* Tailwind blue-500 focus ring */
        }

    </style>
</head>
<body class="bg-slate-100 text-slate-800 p-4 md:p-8">
    <div class="container mx-auto max-w-3xl bg-white shadow-xl rounded-lg p-6 md:p-10">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-blue-700">수학 혈액형 검사</h1>
            <p class="text-lg text-slate-600 mt-2">나의 수학 학습 유형을 알아보세요!</p>
        </header>

        <section id="userInfo" class="mb-8 p-6 bg-slate-50 rounded-lg shadow">
            <h2 class="text-2xl font-semibold text-blue-600 mb-6">기본 정보 입력</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="school" class="block text-sm font-medium text-slate-700 mb-1">학교</label>
                    <input type="text" id="school" name="school" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" placeholder="예: 행복중학교">
                </div>
                <div>
                    <label for="grade" class="block text-sm font-medium text-slate-700 mb-1">학년</label>
                    <input type="text" id="grade" name="grade" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" placeholder="예: 2학년">
                </div>
                <div>
                    <label for="name" class="block text-sm font-medium text-slate-700 mb-1">이름</label>
                    <input type="text" id="name" name="name" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" placeholder="예: 홍길동">
                </div>
                <div>
                    <label for="gender" class="block text-sm font-medium text-slate-700 mb-1">성별</label>
                    <select id="gender" name="gender" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                        <option value="">선택하세요</option>
                        <option value="male">남성</option>
                        <option value="female">여성</option>
                    </select>
                </div>
            </div>
        </section>

        <section id="questionsSection" class="mb-8">
            <h2 class="text-2xl font-semibold text-blue-600 mb-6">문항</h2>
            </section>

        <div class="text-center mb-8">
            <button id="submitButton" class="btn-primary text-lg">결과 확인하기</button>
        </div>

        <section id="resultSection" class="hidden">
            <div id="resultDisplay" class="result-card">
                </div>
            <div class="text-center mt-8">
                <button id="savePdfButton" class="btn-secondary text-lg">PDF로 저장하기</button>
            </div>
        </section>
    </div>

    <script>
        // jsPDF, html2canvas 전역 객체로 사용 가능하도록 설정
        const { jsPDF } = window.jspdf;

        const questions = [
            { text: "1. 체험이나 활동을 중심으로 수학공부 하는 것을 좋아한다.", type: "A" },
            { text: "2. 현재의 학교 수업 방식처럼 체계적이고 규칙적으로 진도를 조절해서 학습하는 것이 좋다.", type: "B" },
            { text: "3. 사물이나 현상의 원리를 구체적으로 따지는 것을 좋아한다.", type: "C" },
            { text: "4. 배고프고 아픈 동생을 위해 빵을 훔치는 것을 보면 법보다 양심이 앞서 용서해주고 싶다.", type: "D" },
            { text: "5. 자율적이고 자유로운 학습 분위기를 좋아한다.", type: "A" },
            { text: "6. 수학수업시간에 노트 정리를 꼼꼼이 하거나 문제집을 깔끔하게 정리하는 편이다.", type: "B" },
            { text: "7. 친구들과 함께 학습하는 것보다 혼자서 학습하거나 공부하는 것을 더 좋아한다.", type: "C" },
            { text: "8. 여러 친구들과 함께 공부하다가 소외된 자신을 알게되면 나도 모르게 우울해진다.", type: "D" },
            { text: "9. 여행이나 체험을 통해 학습하는 것이 차분하게 도서실에서 공부하는 것보다 좋다.", type: "A" },
            { text: "10. 미리 세워놓은 계획이 있는 데 새로운 약속이나 할 일이 생기면 가끔 짜증이 난다.", type: "B" },
            { text: "11. 학습도중 깊이있고 어려운 문제를 만나면, 해결이 될 때까지 파고든다.", type: "C" },
            { text: "12. 감수성이 풍부한 당신! 차가운 수학은 싫어요.", type: "D" },
            { text: "13. 문제만 푸는 수학시간보다 활동적인 체육시간을 더 좋아한다.", type: "A" },
            { text: "14. 학교에서 진행하는 수업시간이나 친구와의 약속시간에 대부분 늦지 않는 편이다.", type: "B" },
            { text: "15. 한번 집중하면 옆에서 무슨 일이 일어나도 모르는 편이다.", type: "C" },
            { text: "16. 수학 공부 뿐만 아니라 여러 과목의 공부를 잘해야겠다는 생각은 많으나 실천력이 부족하다.", type: "D" },
            { text: "17. 규칙적으로 수학 공부를 하기보다 집중적으로 수학 공부를 하는 편이다.", type: "A" },
            { text: "18. 수학을 몇 명이 함께 같이 풀고 토론하며 학습하는 것보다 수업을 통해 정리하며 진행하는 것이 좋다.", type: "B" },
            { text: "19. 내가 좋아하는 것에 도취되어 이야기할 때 친구들은 내가 잘난 척 하는 것으로 오해할 때가 있다.", type: "C" },
            { text: "20. 수학 수업 시간에 선생님이 문제를 못푼다는 이유로 친구를 혼내면 나도 모르게 울컥 화가 난다.", type: "D" },
            { text: "21. 매일 매일 일정량의 수학 문제를 푸는 것은 지루하고 불편하다.", type: "A" },
            { text: "22. 유형별로 만들어진 수학 문제집을 아주 좋아한다.", type: "B" },
            { text: "23. 시험을 보는 과정에서 문제를 잘못보고 실수를 하는 경우가 많다.", type: "C" },
            { text: "24. 시험을 보는 과정에서 마음이 떨려 실수를 많이 하는 편이다.", type: "D" },
            { text: "25. 나는 수학공부를 할 때. 잘하지는 못하지만 매우 열정적이다.", type: "A" },
            { text: "26. 수학시험 중 한 두 개의 어려운 문제를 해결하다 시간을 낭비해 시험을 망치는 경우가 자주 있다.", type: "B" },
            { text: "27. 수학이나 과학이론을 공부하는 것보다 사람 이름을 외우는 게 더 어렵다.", type: "C" },
            { text: "28. 사람들이 많은 도서관에서 다른 사람을 의식해 책상을 깔끔하게 자주 정리하는 편이다.", type: "D" },
            { text: "29. 나는 수학시험을 볼 때 약간의 경쟁을 즐기고 시험 중 모르는 문제가 나오면 바로 지나간다.", type: "A" },
            { text: "30. 공식이나 개념을 알고 일정한 유형의 문제를 풀이하는 것은 남들보다 잘한다.", type: "B" },
            { text: "31. 어떤 일을 예견하듯이 수학 문제의 변화규칙을 잘 맞추는 편이다.", type: "C" },
            { text: "32. 수학 선생님에 대한 호감도에 따라 성적이 변하는 편이다.", type: "D" }
        ];

        const resultDescriptions = {
            "A": {
                title: "A형 (활동적인 스터디 그룹형) 학습양식",
                content: `
                    <p>행동형 아동은 몸으로 직접 부딪혀서 배워야 한다. 자기 손으로 직접 하는 체험을 필요로 한다. 활동과 경쟁을 통해서 성장하며, 모험을 하기 좋아하고 실제로 해보기를 좋아한다. 이들은 매일 반복되는 틀에 얽매이기를 매우 싫어한다. 어떤 틀에 묶어두려고 하면 반발심이 증가되고 결국 결석을 하거나 교실에서 제멋대로 행동하는 경향이 있다. 이들은 대개 책상을 두드리거나 옆자리 아이들을 찌르거나 시끄럽게 발을 질질 끄는 등 산만하다. 중등학교 학력검정고시 준비생들 중에서 행동형 아동이 차지하는 비율이 높은 것도 이러한 이유 때문이다.</p>
                    <p>행동형 아동은 종이와 연필을 가지고 하는 공부에 매우 지루해 한다. 대개 강의나 소크라테스식 문답식의 수업을 싫어하며 수련장이나 각 장의 끝에 있는 정리문제 풀기도 싫어한다. 또한 숙제하는 것도 매우 싫어하는데 이들에게 있어서 숙제는 교사-아동, 교사-아동간의 갈등의 소지를 제공할 뿐인 경우가 많다.</p>
                    <p>행동형 아동은 음악 ․ 연극 ․ 미술 ․ 공예 ․ 기계학 ․ 건축 등이나 그 밖의 활동적인 과목들을 선호한다.</p>
                    <h3 class="result-subtitle">◆ A형의 일반적인 학습 지도 방식</h3>
                    <ul>
                        <li>1) 용맹한 아이로 키워라</li>
                        <li>2) 사람들과의 관계의 폭을 넓혀 주라</li>
                        <li>3) 감각적인 사고를 길러 주어라.</li>
                        <li>4) 꿈과 희망을 크게 갖게 하고 자유롭게 날게 하라.</li>
                        <li>5) 공부를 할 때 흥이 나고 신이 나게 하라</li>
                        <li>6) 짧은 시간에 집중하도록 하라.</li>
                        <li>7) 리더가 되게 하라</li>
                        <li>8) 작심삼일을 사흘에 한번 하게 하라.</li>
                    </ul>
                `
            },
            "B": {
                title: "B형 (규칙적인 유형학습형) 학습양식",
                content: `
                    <p>규범형 아동은 권위적인 인물(부모, 교사 등)의 마음에 들기를 바란다. 이들은 공부를 해야 하는 이유를 몰라도 부모나 교사가 하라고 했다는 이유만으로도 공부를 할 충분한 조건이 된다. 좋은 공부 습관, 숙제 제때 해내기, 지시대로 학과공부하기 등을 중시한다. 계획적이고 조직적인 학급에서 더 잘 적응하며 체계적인 것을 좋아한다. 즉, 이들은 교사와 학생이라는 상하관계가 뚜렷한 학급에서 더 잘 적응하며, 명확하게 지시를 받고 자신이 해야할 일이 무엇인지를 분명히 알 때 최선을 다한다.</p>
                    <p>이들은 성실하고 책임감이 강하며, 규칙을 준수하는데 매우 뛰어나다. 부모나 교사로부터의 질책이나 비난도 잘 수용하고 자신의 행동을 수정하려고 노력한다.</p>
                    <p>규범형 아동은 강의식이나 교사의 지도아래 질문하고 대답하는 전통적인 교수방식을 선호하며, 대체로 학교를 좋아하고 교사가 일관성 있고, 신뢰할 수 있는 사람이기만 하다면 학교생활이 순조롭다.</p>
                    <h3 class="result-subtitle">◆ B형의 일반적인 학습 지도 방식</h3>
                    <ul>
                        <li>1) 단계적으로 준비시키라.</li>
                        <li>2) 좌절을 경험하지 않도록 하라</li>
                        <li>3) 아이와 함께 실패를 분석하라</li>
                        <li>4) 존중받는다는 느끼게 하라</li>
                    </ul>
                `
            },
            "C": {
                title: "C형 (집중적인 탐구학습형) 학습양식",
                content: `
                    <p>탐구형 아동들은 능력에 대한 갈망이 있다. 이들은 알아야하는 모든 것들에 대해 알지 않으면 안 되며 알아야하는 것들도 많다. 무엇이든지 이해하고 설명하고 예언하고 통제할 수 있기를 원한다. 탐구형 아동은 규칙과 원리들을 많이 알려고 하는 경향이 있다. 다른 사람들의 생각을 규명해내고 자기 나름의 생각을 전개시켜 나가기를 즐긴다. 늘 지적인 호기심으로 가득 차 있으며, 남자 아동의 경우 어릴 적부터 과학기술에 관심을 둔다.</p>
                    <p>탐구형 아동은 독자적으로 공부하는 경향이 있으며, 자기의 영감을 추구하고 이해하고자하는 자기의 욕구가 충족될 때까지 새로운 사실들을 추적하기를 좋아한다. 때때로 이러한 특성 때문에 관심이 없는 과목들을 소홀히 하여 낙제 점수를 받기도 한다.</p>
                    <p>탐구형 아동은 학급에서 외톨이일 가능성이 높은데, 특히 내향적인 탐구형 아동일 경우에 더욱 그렇다. 이들은 사회성이 부족한 경우가 많고, 자신의 감정을 쉽게 드러내지 않기 때문에 다른 사람들이 왜 그렇게 쉽게 감정을 표출하는지에 대해 이해하기 힘든 경우가 많다. 다른 사람들의 감정을 알아채지 못하는 편이기 때문에 종종 본의 아니게 남의 기분을 상하게 하는 실수가 많다.</p>
                    <h3 class="result-subtitle">◆ C형의 일반적인 학습 지도 방식</h3>
                    <ul>
                        <li>1) 핵심과 원리를 가르쳐라.</li>
                        <li>2) 논리성을 인정하고 마음 놓고 질문하게 하라.</li>
                        <li>3) 멀티가 가능한 아이로 길러라.</li>
                        <li>4) 공부 잘하는 사람과 함께 공부하게 하라.</li>
                        <li>5) 가볍게 생각하는 습관을 길러 주어라.</li>
                        <li>6) 폭넓게 알려 주고 자신이 하고 싶은 것과 관련시켜라.</li>
                    </ul>
                `
            },
            "D": {
                title: "D형 (관계적인 칭찬형) 학습양식",
                content: `
                    <p>이상형 아동은 자아실현을 갈망한다. 이들은 “훌륭한 사람”뿐 아니라 “자기 자신”이 되기를 원한다. 이들은 인격적인 관계형성을 원한다. 적개심이나 다툼에 대해서는 지나칠 정도로 민감하며 이러한 종류의 긴장에 노출되면 때때로 신체적인 질병을 일으키기도 한다. 이들은 인정과 보살핌과 개인적인 관심이 상호간에 주고받음이 이루어지고, 자신의 감정적인 자세를 인정받을 때 잘 성장한다. 따라서 이상형 아동에게 있어서 교사가 자기 이름을 알고, 자기를 알아주고, 이해해주며, 인정해준다는 것은 중요한 의미를 갖는다.</p>
                    <p>이상형 아동은 마주보고 대화하는 데서 더 잘 배우며 민주적인 학급에서의 의사결정에 참여하는 것을 좋아하고 남들을 즐겁게 하는 것을 좋아한다. 또 자기 자신의 감정 뿐 아니라 다른 사람들의 감정에도 민감하고 모든 것을 사회적인 상호작용의 관점에서 생각한다. 이들은 사회적인 상황을 개선하여 보다 즐겁고 유익한 것으로 만들고자 한다.</p>
                    <p>내향적인 이상형 아동은 종종 고통스러울 정도로 부끄러움을 타므로 같은 학급의 친구들과 허물없이 지내도록 용기를 북돋아줄 필요가 있다. 이들은 거부당하는 것에 대해서 매우 민감하기 때문에 친구를 사귈 수 있도록 격려와 도움이 필요하다.</p>
                    <p>이상형 아동은 과학이나 경영학 같은 비교적 추상적인 과목보다는 인간에 초점을 맞춘 과목을 선호한다.</p>
                    <h3 class="result-subtitle">◆ D형의 일반적인 학습 지도 방식</h3>
                    <ul>
                        <li>1) 상상력을 높혀 주라.</li>
                        <li>2) 주변 사람들을 이용하라</li>
                        <li>3) 기분을 맞춰주라</li>
                        <li>4) 신뢰하고 인정해 주라</li>
                        <li>5) 작은 일에도 칭찬하라</li>
                    </ul>
                `
            },
            "A-B": {
                title: "A-B형 (강직한 검사, 경찰)",
                content: `
                    <p>행동-규범형은 활동적이고 적극적이며 모험적인 행동 성향과, 예절이 바르고 규칙적이며 관습적인 규범 성향이 결합된 유형이다. 규범을 잘 따르고 규칙적이면서도 활동적인 면이 강하고 책임의식이 투철하기 때문에, 어떤 일을 맡더라도 분명하고 정확하게 완수하는 능력이 뛰어나다. 또한 어떤 난관이 있거나 어떤 방해물이 있어도 자신의 뜻을 관철시킬 수 있는 강인함을 가지고 있다.</p>
                    <h3 class="result-subtitle">▶ 주요 행동 특성</h3>
                    <ul>
                        <li>① 정의감과 의협심에 불탄다</li>
                        <li>② 거칠 것이 없고 대범하다</li>
                        <li>③ 직설적이고 솔직하다</li>
                        <li>④ 매사에 계획적이고 책임감이 강하다</li>
                        <li>⑤ 대인관계가 넓고 리더십이 뛰어나다</li>
                        <li>⑥ 다양한 분야에 흥미를 보이지만, 일단 마음을 정하면 후회하지 않는다</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 학습과 생활 지도</h3>
                    <ul>
                        <li>① 스스로 공부하는 습관을 길러 주자</li>
                        <li>② 약속은 반드시 지키게 하고, 절대로 타협하지 말자</li>
                        <li>③ 목표를 분명하게 인식시켜 주자</li>
                        <li>④ 리더십을 길러 주자</li>
                        <li>⑤ 공부에 너무 욕심 내지 말고 대범하게 키우자</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 행동-규범형에 맞는 적성과 직업</h3>
                    <p>이들은 어떤 일을 계획하고 조직하고 추진하는 능력이 뛰어나서 조직체를 이끌어나가는 데 있어서 탁월한 재능을 보인다. 또 규칙과 원칙을 중시하는 관리자인 동시에 타고난 활동가이기 때문에, 리더의 위치에서 집단을 이끌어가는 일에 적합하다. 직업으로는 행정 관료나 정치가, 외교관, 검찰이나 경찰 계통, 군인, 기업체나 큰 조직의 관리직이 좋다.</p>
                `
            },
            "A-C": {
                title: "A-C형 (고독한 늑대/시라소니)",
                content: `
                    <p>행동-탐구형은 독립적이고 자유롭고 활동적이며 구속 받기를 싫어하는 행동형적인 성향과, 깊이 분석하고 따지고 드는 논리성과 독창적이고 확산적으로 사고하는 탐구형적인 성향이 결합된 유형이다. 행동-탐구형은 여러 성격 유형 중에서도 고집이 가장 세고 자기주장이 너무 강해 독선적이라는 평을 자주 듣는다. 차라리 부러졌으면 부러졌지, 누가 강요하거나 시킨다고 해서 자기의 주장이나 생각을 포기하는 법이 없다.</p>
                    <h3 class="result-subtitle">▶ 행동 특성</h3>
                    <ul>
                        <li>① 자유롭고 독립적이며 구속받기를 싫어한다</li>
                        <li>② 결정은 과감하고 신속하다</li>
                        <li>③ 독창적이지만 고집도 세다</li>
                        <li>④ 많은 사람들을 만나지만 진정으로 친하게 지내는 사람은 소수이다</li>
                        <li>⑤ 흥미와 관심이 다양하고 다방면에 재능이 많다</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 학습과 생활 지도</h3>
                    <ul>
                        <li>① 호기심을 최대한 살려 주자</li>
                        <li>② 짧은 시간에 최대한 집중해서 공부하게 하자</li>
                        <li>③ 하고 싶은 것을 충분히 하게 하자</li>
                        <li>④ 사회생활에 필요한 기술은 천천히 가르치자</li>
                        <li>⑤ 분명한 목표 의식을 갖게 해 주자</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 행동-탐구형에 맞는 적성과 직업</h3>
                    <p>이들은 사회에 나가서도 남의 밑에서 일하는 것을 죽기보다 싫어할 수 있기 때문에 평소에 리더십을 길러 가면서 큰 조직의 리더가 되게 하거나, 아니면 차라리 아무런 속박이나 구속이 없는 상태에서 자유롭게 혼자서도 할 수 있는 일을 권하는 것이 좋다. 아이의 적성에 따라 이과나 문과 그 어느 쪽을 택하더라도 능력을 발휘하는 데는 문제가 없지만, 이과 계통에서는 우주항공공학이나 자동차, 건축이나 토목공학, 엔지니어링 같이 스케일이 크고 활동적이면서 깊은 탐구가 요구되는 일이 좋고, 문과 계통에서는 역사학이나 고고학, 민속학, 종교철학과 같이 혼자서도 깊이 탐구할 수 있는 분야나 다큐멘터리를 기획 제작하는 PD나 저널리스트, 광고나 마케팅 전문가도 바람직하다.</p>
                `
            },
             "A-D": {
                title: "A-D형 (코미디언) / D-A형 (사회봉사자)",
                content: `
                    <p>행동-이상형(이상-행동형)은 활동적이고 적극적이며 모험적인 행동 성향과, 인간적이고 조화롭고 협력적이며 높은 이상을 가진 이상 성향이 결합되어 있는 유형이다. 그렇기 때문에 매우 활발하고 활동적이며, 명랑하고 쾌활한 편이다.</p>
                    <h3 class="result-subtitle">▶ 행동 특성</h3>
                    <ul>
                        <li>① 적극적이고 활동적이며 잠시도 가만히 있지를 못한다</li>
                        <li>② 매우 사교적이고 사람이 많을수록 좋아 한다</li>
                        <li>③ 충동적이고 즉흥적이며 어떤 틀이나 규범에 얽매이는 것을 무척 싫어한다</li>
                        <li>④ 어떤 상황에도 잘 적응하며 다방면에 관심이 많다</li>
                        <li>⑤ 논리적인 분석보다는 인간 중심의 가치를 존중 한다</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 학습과 생활 지도</h3>
                    <ul>
                        <li>① 즐겁고 신나게 공부하게 하자</li>
                        <li>② 게임식으로 공부하게 하자</li>
                        <li>③ 계획표대로 공부하기를 강요하지 말자</li>
                        <li>④ 목표를 분명히 인식시켜 주자</li>
                        <li>⑤ 리더십을 길러 주자</li>
                        <li>⑥ 적절한 보상을 주자</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 행동-이상형에 맞는 적성과 직업</h3>
                    <p>이들은 누구보다도 사람을 좋아하고 사람들과 같이 하는 활동을 즐기기 때문에, 일을 하더라도 반드시 다른 사람들과 함께 하는 직업을 갖게 하는 것이 좋다. 또한 활발하고 적극적이면서도 리더십이 요구되는 일이나, 나중에 자기 사업으로까지 확대해 나갈 수 있는 일이면 더욱 바람직하다.</p>
                    <p>이들은 대개 문과 계통이나 예체능 계통의 직업을 선호하는 경향이 있다. 레저 관련 분야나 신문 방송, 산업디자인, 관광 분야, 광고, 판매, 사회복지, 상담 심리 분야도 좋고, 직업으로는 디자이너나 가수, 연예인, PD, 관광 종사자, 영업직, 사회복지사, 상담전문가, 저널리스트, 성직, 목회자, 작가 등 다양한 분야에 적성을 보일 수 있다. 그러나 어떤 일에 종사하든 간에 궁극적으로는 자기 자신의 사업을 할 수 있다는 점을 염두에 두고, 미리미리 경영 관련 분야의 공부를 같이 해 두면 나중에 큰 도움이 될 수 있다.</p>
                `
            },
            "B-C": {
                title: "B-C형 / C-B형 (탁월한 보존가 및 분석가)",
                content: `
                    <p>규범-탐구형/탐구-규범형은 공손하고 예의 바르며 관습이나 규범을 잘 준수하는 규범적인 성향과, 지적이고 생각의 깊이가 있으며 자기의 주관이 뚜렷한 탐구적인 성향이 결합되어 있는 유형으로, 일상생활에서도 항상 원리 원칙적이고 관습이나 규범에 벗어나지 않으려는 완벽주의적 성향을 가진 사람이다.</p>
                    <h3 class="result-subtitle">▶ 행동 특성</h3>
                    <ul>
                        <li>① 주관이 뚜렷하나 행동은 절제되어 있다</li>
                        <li>② 지적이나 비평받는 것을 싫어한다</li>
                        <li>③ 계획적이고 책임의식이 강하다</li>
                        <li>④ 기억력이 뛰어나고 인내력이 강하다</li>
                        <li>⑤ 고집이 세고 융통성이 부족하다</li>
                        <li>⑥ 감정보다는 이성을 중시 한다</li>
                        <li>⑦ 논리적이고 분석적인 일을 좋아 한다</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 학습과 생활 지도</h3>
                    <ul>
                        <li>① 스스로 공부할 수 있는 환경만 만들어 주자</li>
                        <li>② 보살펴 주되 지나친 관심은 삼가자</li>
                        <li>③ 한꺼번에 너무 많은 것을 시키지 말자</li>
                        <li>④ 규칙이나 예의범절을 지나치게 강조하지 말자</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 규범-탐구형에 맞는 적성과 직업</h3>
                    <p>이들은 직관력과 정확성이 요구되는 직업에서 능력을 발휘하기 때문에, 어떤 계통이든 자신의 생각이나 이론을 펼칠 수 있는 교수직이나 연구직이 좋다. 직업으로는 정확한 분석력이 요구되는 과학, 엔지니어링, 발명, 철학 분야, 회계, 토목, 건축, 보건, 한의학, 교육공학 그리고 일반 사무직이 좋다. 특히 예술 방면에 다소 재능을 보이더라도 직업으로서는 권하지 않는 것이 좋다. 창의성이 줄어든 상태이기 때문에, 예술을 하게 되더라도 꽤 잘 한다는 정도의 수준까지는 도달하겠지만 그 분야에서 탁월한 실력을 보이기는 어려울 수 있다. 다만 예술 분야에서 다른 사람들을 가르치는 일(가령 화가는 피하되 미술 교사는 괜찮다)이라면 나름대로 능력을 발휘할 수 있고, 따라서 권장할 만하다.</p>
                `
            },
            "B-D": {
                title: "B-D형 / D-B형 (성실한 교육자, 현모양처)",
                content: `
                    <p>규범-이상형/이상-규범형은 조용하고 착하며 마음이 여리고 따뜻한 이상 성향과, 공손하고 예의가 바르며 윗사람들에게 순종적인 규범형이 결합된 유형이다. 그래서 마음이 따뜻하고 인정이 많으며, 다른 사람들에게 모범적인 행동을 하려고 하는 동시에 주변 사람들로부터 칭찬을 받거나 인정받는 것을 좋아한다.</p>
                    <h3 class="result-subtitle">▶ 행동 특성</h3>
                    <ul>
                        <li>① 외유 내강형이다</li>
                        <li>② 체계적이고 계획적으로 일 처리를 한다</li>
                        <li>③ 봉사정신이 강하고 헌신적이다</li>
                        <li>④ 조용하면서 자연 친화적이다</li>
                        <li>⑤ 대인관계의 폭은 좁으나 깊다</li>
                        <li>⑥ 꿈과 이상을 가지고 꾸준히 자아를 실현해간다</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 학습과 생활 지도</h3>
                    <ul>
                        <li>① 실수를 하더라도 격려하고 용기를 주자</li>
                        <li>② 효과적인 공부 방법을 알려 주자</li>
                        <li>③ 이해 받고 인정받는 분위기에서 공부할 수 있게 하자</li>
                        <li>④ 소규모 집단이나 1:1로 공부하게 하자</li>
                        <li>⑤ 목표와 공부 계획을 확실하게 세우고 차근차근 실천하게 하자</li>
                        <li>⑥ 한꺼번에 너무 많은 것을 시키지 말자</li>
                        <li>⑦ 인간적인 요소나 관계를 잘 활용하자</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 규범-이상형에 맞는 적성과 직업</h3>
                    <p>규범-이상형은 인간적인 면을 지니고 있으면서도 관습과 규범을 중시하는 사람이기 때문에, 남을 가르치거나 다른 사람에게 봉사하는 직업을 찾게 하는 것이 좋다. 직업으로는 의료 분야나 교직, 일반 사무직, 서비스 분야, 목회, 상담 분야, 심리치료 분야가 적합하다.</p>
                `
            },
            "C-D": {
                title: "C-D형 (과학자) / D-C형 (예술가)",
                content: `
                    <p>탐구-이상형은 지적 호기심이 넘쳐 끊임없이 궁금증과 의문을 갖는 탐구적인 성향과, 상상력과 감성이 풍부하며 감수성 또한 예민하고 섬세한 이상형의 결합형이다. 그리고 확산적이고 독창적인 사고력과, 풍부한 감성과 예민한 감수성이 결합된 유형이기 때문에 개성 또한 강한 편이다.</p>
                    <h3 class="result-subtitle">▶ 행동 특성</h3>
                    <ul>
                        <li>① 독특하고 개성이 매우 강하다</li>
                        <li>② 행동은 굼뜨고 잔잔해 보이지만 생각은 깊고 빠르다</li>
                        <li>③ 질문이 많고 생각이 끝없이 뻗어간다</li>
                        <li>④ 관심 있는 일에 한없이 빠져 든다</li>
                        <li>⑤ 예술적인 재능도 뛰어나다</li>
                        <li>⑥ 경쟁심과 자존심이 강하다</li>
                        <li>⑦ 코드가 맞는 사람들과는 친하게 지낸다</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 학습과 생활 지도</h3>
                    <ul>
                        <li>① 개성과 창의성을 살려 주자</li>
                        <li>② 공부해야 하는 이유를 깨닫게 하자</li>
                        <li>③ 어떤 현상의 원리나 개념에 초점을 맞추게 하자</li>
                        <li>④ 너무 일찍부터 성적에 욕심을 내지 말자</li>
                        <li>⑤ 한꺼번에 여러 가지를 하더라도 내버려 두자</li>
                        <li>⑥ 규칙이나 계획을 지나치게 강조하지 말자</li>
                        <li>⑦ 마음놓고 질문하게 하자</li>
                        <li>⑧ 사회생활에 필요한 기술은 천천히 가르치자</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 탐구-이상형에 맞는 적성과 직업</h3>
                    <p>이들은 기본적으로 자신이 관심과 가치를 두고 있는 분야에서 일하고 싶어 하며, 그 어떤 유형보다도 자아실현에 대한 욕구가 강한 유형이다. 직관력과 창의력이 뛰어나고 지적 호기심이 강하기 때문에 이미 알려진 것을 넘어선 새로운 면을 파악하는 능력이 탁월하고, 자신의 분야에서 전문가로서의 실력을 발휘하기를 바라며 끊임없이 새로운 것을 만들어가고 창조하는 데 관심이 많다. 따라서 자신의 생각을 거침없이 펼칠 수 있는 전문 직종에 들어간 뒤라야 비로소 자신의 능력을 제대로 발휘하기 시작한다. 이들이 능력을 제대로 발휘하지 못하고 있다면, 그것은 이들이 어떤 규범이나 틀에 얽매이도록 강요당했거나 주위의 관심이 지나쳤을 경우, 그리고 반복적으로 해야 하는 과제에 대해 지루함과 싫증을 느꼈기 때문이다. 문과 계통이나 이과 계통에 관계없이 어떤 분야의 직업도 가능하지만, 그 중에서도 순수과학 분야나 예술, 역사, 수학, 엔지니어링, 경제학, 철학, 인지 공학, 상담 및 임상 심리학 분야가 더 바람직하다.</p>
                `
            },
            "A-B-C": {
                title: "A-B-C형 (최고 통치자, 정책입안자)",
                content: `
                    <p>행동-규범-탐구형은 도전적이고 독립적이며 자유롭고 활동적이면서도 어딘가에 구속되기를 싫어하는 행동적인 성향과, 공손하고 예의 바르며 관습이나 규범을 잘 준수하는 규범적인 성향, 그리고 지적 호기심으로 끊임없이 궁금증과 의문을 갖는 탐구적인 성향이 결합된 유형이다. 그렇기 때문에 이들은 활동적이면서도 원칙과 규칙에 따라 움직여야 하는 행정 관련 업무나 장기 계획을 수립해서 추진하는 일을 좋아한다.</p>
                    <h3 class="result-subtitle">▶ 행동 특성</h3>
                    <ul>
                        <li>① 안목이 넓고 상황 판단력이 뛰어나다</li>
                        <li>② 일 처리가 과감하고 신속 정확하며 뚝심이 있다</li>
                        <li>③ 사전에 철저히 준비하며 매사가 계획적이고 체계적이다</li>
                        <li>④ 동적인 활동을 선호하고 대인관계의 폭도 넓다</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 학습과 생활 지도</h3>
                    <ul>
                        <li>① 목표를 크고 높게 잡아 주자</li>
                        <li>② 능력 있고 자신감이 있는 아이로 키우자</li>
                        <li>③ 리더십을 길러 주자</li>
                        <li>④ 구체적인 계획을 세우게 하자</li>
                        <li>⑤ 보다 효과적인 공부 방법을 알려 주자</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 행동-규범-탐구형에 맞는 적성과 직업</h3>
                    <p>이들은 문과나 이과 어떤 계통이든 자기가 좋아하는 일이라면 다 능력을 발휘할 수 있지만, 그 중에서도 활동적이면서도 종합적인 판단력이 요구되는 학문이나 직업을 택하게 하는 것이 좋다. 이들에게는 대개 정책을 입안하거나 많은 구성원을 이끌어 가는 행정 분야의 관리자나 기업체나 큰 조직을 이끌어 가는 최고경영자의 역할이 가장 바람직하다. 학문 쪽에서는 행정학이나 정치 외교학, 법학, 경영학, 우주공학, 항공공학, 건축, 의학 분야가 좋다.</p>
                `
            },
            "A-B-D": { // A-B-E형을 A-B-D형으로 해석
                title: "A-B-D형 (행정가/반장)",
                content: `
                    <p>행동-규범-이상형은 도전적이고 독립적이며 자유롭고 활동적이고 구속되기를 싫어하는 행동적인 성향, 공손하고 예의 바르며 관습이나 규범을 잘 준수하는 규범적인 성향, 그리고 상상력과 감성이 풍부하며 감수성이 예민하고 섬세한 이상적인 성향의 결합형이다. 그렇기 때문에 적극적이고 도전적이고 활기차면서도, 윗사람들의 말에 순종적이고 예의가 바르며 규칙이나 관습을 잘 지키는 한편, 따뜻한 마음이 넘치고 인정이 많으며 사람들과 어울리기를 좋아하기 때문에 누구에게나 인기가 많다.</p>
                    <h3 class="result-subtitle">▶ 행동 특성</h3>
                    <ul>
                        <li>① 정의와 명예를 중시 한다</li>
                        <li>② 책임감이 강하다</li>
                        <li>③ 과감하면서도 꼼꼼하고 신중하다</li>
                        <li>④ 리더십이 뛰어나다</li>
                        <li>⑤ 활달하고 활동적이다</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 학습과 생활 지도</h3>
                    <ul>
                        <li>① 스스로 공부하게 하자</li>
                        <li>② 보다 효과적인 공부 방법을 알려 주자</li>
                        <li>③ 리더십을 길러 주자</li>
                        <li>④ 원하는 만큼 하게 해 주자</li>
                        <li>⑤ 목표를 높게 갖게 하자</li>
                        <li>⑥ 대범하게 키우자</li>
                        <li>⑦ 공부는 고등학교 1학년 말부터다</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 행동-규범-이상형에 맞는 적성과 직업</h3>
                    <p>이들은 대개 이과보다는 문과 계통이 더 적합하며, 사람을 이끌어 가고 설득하는 능력이 뛰어나기 때문에, 사회에 나가서도 가능하다면 조직의 장이나 최고경영자가 될 수 있도록 격려해 주어야 한다. 특히 활동적이면서도 종합적인 판단이 요구되는 분야의 직업이 좋으며, 전공으로는 법학이나 행정학, 경영학을 비롯한 사회과학 계열의 학과가 바람직하다.</p>
                `
            },
            "A-C-D": {
                title: "A-C-D형 (만능인 /파란만장한 삶)",
                content: `
                    <p>행동-탐구-이상형은 도전적이고 독립적이며 자유롭고 활동적이고 구속되기를 싫어하는 행동적인 성향, 지적 호기심으로 끊임없이 궁금증과 의문을 갖는 탐구적인 성향, 그리고 상상력과 감성이 풍부하며 감수성이 예민하고 섬세한 이상적인 성향의 결합형이다. 따라서 이런 유형은 관습이나 규범에 얽매이지 않고 항상 기발하고 특이한 것을 생각해 내며, 창의력이 풍부해서 항상 새로운 가능성을 찾고 새로운 시도를 하는 독창적인 혁신가이다.</p>
                    <h3 class="result-subtitle">▶ 행동 특성</h3>
                    <ul>
                        <li>① 종잡을 수 없고 예측하기 힘들다</li>
                        <li>② 새로운 것을 추구하는 혁신가이다</li>
                        <li>③ 입체적으로 사고하며 사태 파악이 빠르다</li>
                        <li>④ 토론을 좋아 한다</li>
                        <li>⑤ 고집이 매우 세다</li>
                        <li>⑥ 생각이 요구되거나 원리가 있는 활동이면 무엇이든 좋아한다</li>
                        <li>⑦ 다재다능하고 대인관계의 폭도 가장 넓다</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 학습과 생활 지도</h3>
                    <ul>
                        <li>① 개성과 창의성을 존중해 주자</li>
                        <li>② 고1이 될 때까지는 성적에 연연하지 말자</li>
                        <li>③ 리더십을 길러 주자</li>
                        <li>④ 목표를 크고 높게 잡아 주자</li>
                        <li>⑤ 고집을 꺾지는 말자</li>
                        <li>⑥ 한꺼번에 여러 가지를 하더라도 이해해 주자</li>
                        <li>⑦ 원리나 개념뿐 아니라 세부적인 내용에도 관심을 갖게 하자</li>
                        <li>⑧ 대인관계의 폭을 넓혀 주자</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 행동-탐구-이상형에 맞는 적성과 직업</h3>
                    <p>이들은 활동적이면서 깊은 생각이 요구되는 일이나 사람들과 관련된 일을 하는 것이 좋다. 계열로는 이과나 문과 어느 쪽도 다 가능한데, 그 중에서도 비교적 스케일이 크고 활동적인 분야라면 더욱 바람직하다. 전공으로는 우주 항공 분야, 자동차, 건축, 의학 분야도 좋고, 경제학이나 정치학, 역사, 철학, 고고학, 교육공학 분야도 괜찮다. 직업으로는 위의 학과들과 관련된 분야 외에도, 발명가나 저널리스트, 마케팅 전문가, 광고기획자, 성직, 작가 등도 좋다. 이들은 어려서부터 예술 방면에 재능을 보일 가능성이 매우 높기 때문에 아이가 좋아하기만 한다면 그런 재능을 살려 주는 것이 좋으나, 가급적이면 주업보다는 취미 활동이나 부업 정도로 하게 하는 것이 더 바람직하다.</p>
                `
            },
            "B-C-D": {
                title: "B-C-D형 (대학교수)",
                content: `
                    <p>규범-탐구-이상형은 조용하고 예절 바르며 규칙적이고 책임감이 강한 규범 성향과, 깊이 분석하며 따지고 드는 논리성과 독창적이고 확산적으로 사고하는 탐구 성향, 그리고 인간적이고 조화를 중시하며 협력적이고 높은 이상을 가진 이상 성향이 결합된 유형이다. 이런 유형은 자신이 맡은 일은 꼼꼼히 처리하는 완벽주의적인 성향과 함께, 겉으로는 부드럽고 약해 보이지만 내적으로는 매우 강한 신념을 가지고 있다.</p>
                    <h3 class="result-subtitle">▶ 행동 특성</h3>
                    <ul>
                        <li>① 호기심이 많고 하고 싶은 것도 많다</li>
                        <li>② 예술적인 재능이 있으나 한계가 있다</li>
                        <li>③ 부드럽고 약해 보이지만 강한 집념과 신념을 지니고 있다</li>
                        <li>④ 일 처리가 분명하고 정확하다</li>
                        <li>⑤ 대인관계에서 인화와 조화를 중시한다</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 학습과 생활 지도</h3>
                    <ul>
                        <li>① 적절한 계획과 달성 가능한 목표를 세우게 하자</li>
                        <li>② 효과적인 학습 기술을 가르쳐 주자</li>
                        <li>③ 자신의 능력과 목표를 제대로 인식하게 하자</li>
                        <li>④ 최고의 전문가가 되게 하자</li>
                        <li>⑤ 너무 많은 것을 시키거나 요구하지 말자</li>
                        <li>⑥ 규칙이나 예의범절을 지나치게 강조하지 말자</li>
                    </ul>
                    <h3 class="result-subtitle">▶ 규범-탐구-이상형에 맞는 적성과 직업</h3>
                    <p>이들은 문과나 이과 어떤 계통의 일을 하더라도 능력을 발휘하는 데 별 문제가 없다. 그러나 가급적이면 새로운 아이디어와 직관력, 그리고 사람 중심의 가치가 중시되는 분야에서 일하는 것이 능력 발휘에도 좋다. 순수과학이나 응용과학 분야의 연구 개발도 좋고, 의사나 상담 전문가, 평론가, 한의사, 교육공학자, 법조계, 회계 금융 분야에서도 뛰어난 재능을 보일 수 있다. 이들도 어려서부터 예술적인 재능을 개발시켜 줄 필요가 있지만, 아이가 상당한 수준의 재능을 보이더라도 직업으로서 예술 분야의 일을 하는 것은 바람직하지 않다. 규범적인 성향이 있어서 일찍 한계를 느낄 가능성이 높기 때문이다. 다만 학문이나 연구 분야의 주업을 하면서 취미로 예술적인 재능을 살려 가거나, 예술 분야에서 가르치는 일을 하게 되면 훨씬 더 유능해 보일 수도 있고, 자기 자신도 즐거움을 느낄 수 있을 것이다.</p>
                `
            },
            "ALL_EQUAL": {
                title: "균형잡힌 멀티플레이어 유형",
                content: `
                    <p>당신은 모든 유형의 특성을 균형있게 가지고 있는 멀티플레이어 유형입니다! 활동적(A형)이면서도 체계적(B형)이고, 탐구심(C형)이 강하면서도 관계(D형)를 중시하는 다재다능함을 보입니다. 이는 다양한 상황에 유연하게 대처하고 여러 분야에서 능력을 발휘할 수 있는 잠재력을 의미합니다. 각 유형의 장점을 잘 활용하여 학습하고 생활한다면 더욱 발전할 수 있을 것입니다.</p>
                    <h3 class="result-subtitle">▶ 주요 특징 요약</h3>
                    <ul>
                        <li><strong>A형 (활동성):</strong> 체험과 활동을 통한 학습 선호, 경쟁과 모험 즐김.</li>
                        <li><strong>B형 (규칙성):</strong> 체계적이고 계획적인 학습 선호, 규칙과 질서 중시.</li>
                        <li><strong>C형 (탐구성):</strong> 원리 탐구와 깊이 있는 학습 선호, 지적 호기심 강함.</li>
                        <li><strong>D형 (관계성):</strong> 인간관계와 감정 중시, 인정과 칭찬에 민감.</li>
                    </ul>
                     <h3 class="result-subtitle">▶ 학습 및 생활 가이드</h3>
                    <p>모든 유형의 장점을 살려 다방면으로 발전할 수 있는 잠재력이 큽니다. 특정 유형에 치우치기보다는 각 상황에 맞는 학습 전략을 유연하게 사용하고, 다양한 경험을 통해 자신만의 강점을 찾아 발전시켜 나가세요.</p>
                `
            }
        };


        const questionsSection = document.getElementById('questionsSection');
        const submitButton = document.getElementById('submitButton');
        const resultSection = document.getElementById('resultSection');
        const resultDisplay = document.getElementById('resultDisplay');
        const savePdfButton = document.getElementById('savePdfButton');
        const userInfoForm = {
            school: document.getElementById('school'),
            grade: document.getElementById('grade'),
            name: document.getElementById('name'),
            gender: document.getElementById('gender')
        };

        // 질문 동적 생성
        function displayQuestions() {
            questions.forEach((q, index) => {
                const questionId = `q${index}`;
                const questionCard = document.createElement('div');
                questionCard.className = 'question-card';
                questionCard.innerHTML = `
                    <p class="text-md font-medium text-slate-700 mb-3">${q.text}</p>
                    <div class="flex custom-radio">
                        <input type="radio" id="${questionId}_o" name="${questionId}" value="O" required>
                        <label for="${questionId}_o" class="px-4 py-2 rounded-md cursor-pointer">O</label>
                        <input type="radio" id="${questionId}_x" name="${questionId}" value="X" required>
                        <label for="${questionId}_x" class="px-4 py-2 rounded-md cursor-pointer">X</label>
                    </div>
                `;
                questionsSection.appendChild(questionCard);
            });
        }

        // 결과 계산 및 표시
        submitButton.addEventListener('click', () => {
            // 기본 정보 입력 확인
            if (!userInfoForm.school.value || !userInfoForm.grade.value || !userInfoForm.name.value || !userInfoForm.gender.value) {
                // Use a custom message box instead of alert()
                showCustomAlert('기본 정보를 모두 입력해주세요.');
                // 입력되지 않은 첫 번째 필드로 포커스 이동
                if (!userInfoForm.school.value) userInfoForm.school.focus();
                else if (!userInfoForm.grade.value) userInfoForm.grade.focus();
                else if (!userInfoForm.name.value) userInfoForm.name.focus();
                else if (!userInfoForm.gender.value) userInfoForm.gender.focus();
                return;
            }

            // 모든 문항 답변 확인
            const allAnswered = questions.every((q, index) => {
                return document.querySelector(`input[name="q${index}"]:checked`);
            });

            if (!allAnswered) {
                 // Use a custom message box instead of alert()
                showCustomAlert('모든 문항에 답변해주세요.');
                // 답변 안된 첫번째 문항으로 스크롤
                for (let i = 0; i < questions.length; i++) {
                    if (!document.querySelector(`input[name="q${i}"]:checked`)) {
                        const firstUnanswered = document.querySelector(`input[name="q${i}"]`);
                        if (firstUnanswered) {
                            firstUnanswered.closest('.question-card').scrollIntoView({ behavior: 'smooth', block: 'center' });
                            // 시각적 강조 (선택 사항)
                            firstUnanswered.closest('.question-card').classList.add('border-red-500', 'border-2');
                            setTimeout(() => {
                                firstUnanswered.closest('.question-card').classList.remove('border-red-500', 'border-2');
                            }, 2000);
                        }
                        break;
                    }
                }
                return;
            }

            const scores = { A: 0, B: 0, C: 0, D: 0 };
            questions.forEach((q, index) => {
                const selectedOption = document.querySelector(`input[name="q${index}"]:checked`);
                if (selectedOption && selectedOption.value === 'O') {
                    scores[q.type]++;
                }
            });

            const maxScore = Math.max(...Object.values(scores));
            const dominantTypes = Object.keys(scores).filter(type => scores[type] === maxScore);

            let resultKey = "";
            if (dominantTypes.length === 4) { // 모든 유형 동점
                resultKey = "ALL_EQUAL";
            } else if (dominantTypes.length === 3) {
                resultKey = dominantTypes.sort().join('-'); // 예: A-B-C
            } else if (dominantTypes.length === 2) {
                resultKey = dominantTypes.sort().join('-'); // 예: A-B
            } else if (dominantTypes.length === 1) {
                resultKey = dominantTypes[0]; // 예: A
            }
            
            // D-A, C-B, D-B, D-C 와 같은 역순 조합도 동일하게 처리
            if (resultKey === "D-A") resultKey = "A-D";
            if (resultKey === "C-B") resultKey = "B-C";
            if (resultKey === "D-B") resultKey = "B-D";
            if (resultKey === "D-C") resultKey = "C-D";


            const resultData = resultDescriptions[resultKey];
            const userName = userInfoForm.name.value || "당신";
            let resultHtmlContent = "";

            if (resultData) {
                resultHtmlContent = `
                    <p class="text-xl font-semibold text-slate-700 mb-4">${userName}님의 수학 혈액형 결과입니다.</p>
                    <h2 class="result-title">${resultData.title}</h2>
                    <div class="result-text">${resultData.content}</div>
                    <div class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-md">
                        <h4 class="font-semibold text-blue-700">점수 요약:</h4>
                        <p class="text-sm text-blue-600">A형: ${scores.A}점, B형: ${scores.B}점, C형: ${scores.C}점, D형: ${scores.D}점</p>
                    </div>
                `;
            } else {
                 resultHtmlContent = `
                    <h2 class="result-title">결과 분석 중 오류</h2>
                    <p class="text-slate-600">결과를 불러오는 데 문제가 발생했습니다. 관리자에게 문의해주세요. (Result Key: ${resultKey})</p>
                    <div class="mt-6 p-4 bg-red-50 border border-red-200 rounded-md">
                        <h4 class="font-semibold text-red-700">점수 요약:</h4>
                        <p class="text-sm text-red-600">A형: ${scores.A}점, B형: ${scores.B}점, C형: ${scores.C}점, D형: ${scores.D}점</p>
                    </div>
                 `;
            }
            resultDisplay.innerHTML = resultHtmlContent;
            resultSection.classList.remove('hidden');
            resultDisplay.scrollIntoView({ behavior: 'smooth' });
        });

        // PDF 저장 기능
        savePdfButton.addEventListener('click', () => {
            const resultElement = document.getElementById('resultDisplay');
            if (!resultElement || resultElement.innerHTML.trim() === "") {
                 // Use a custom message box instead of alert()
                showCustomAlert('PDF로 저장할 결과 내용이 없습니다. 먼저 검사를 완료해주세요.');
                return;
            }

            const userName = userInfoForm.name.value || "사용자";
            const fileName = `${userName}_수학혈액형검사결과.pdf`;

            // PDF 생성 시 스크롤 위치를 맨 위로 이동하여 전체 내용이 잘 나오도록 함
            // html2canvas가 현재 보이는 화면을 기준으로 캡처하기 때문에,
            // 내용이 길 경우 스크롤을 맨 위로 보내고 캡처해야 전체가 나옴.
            // 또는, html2canvas 옵션에서 windowWidth, windowHeight 등을 조절할 수 있으나,
            // 여기서는 간단히 resultDisplay 요소 자체를 캡처하도록 함.
            // 캡처할 요소의 배경색을 명시적으로 흰색으로 지정하여 투명 배경 문제를 방지합니다.
            html2canvas(resultElement, {
                scale: 2, // 해상도를 높여 글자 깨짐 방지
                useCORS: true, // CORS 이슈가 있는 이미지가 있다면 필요
                backgroundColor: '#f8fafc' // result-card의 배경색과 동일하게 설정
            }).then(canvas => {
                const imgData = canvas.toDataURL('image/png');
                const pdf = new jsPDF({
                    orientation: 'p', // p: portrait, l: landscape
                    unit: 'mm',
                    format: 'a4'
                });

                const imgProps= pdf.getImageProperties(imgData);
                const pdfWidth = pdf.internal.pageSize.getWidth();
                const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;
                let heightLeft = pdfHeight;
                let position = 0;

                pdf.addImage(imgData, 'PNG', 0, position, pdfWidth, pdfHeight);
                heightLeft -= pdf.internal.pageSize.getHeight();

                while (heightLeft >= 0) {
                  position = heightLeft - pdfHeight;
                  pdf.addPage();
                  pdf.addImage(imgData, 'PNG', 0, position, pdfWidth, pdfHeight);
                  heightLeft -= pdf.internal.pageSize.getHeight();
                }
                pdf.save(fileName);
            }).catch(error => {
                console.error("PDF 생성 중 오류 발생:", error);
                 // Use a custom message box instead of alert()
                showCustomAlert("PDF 생성 중 오류가 발생했습니다. 콘솔을 확인해주세요.");
            });
        });

        // Custom Alert Function
        function showCustomAlert(message) {
            // Check if a custom alert box already exists
            let existingAlert = document.getElementById('customAlertBox');
            if (existingAlert) {
                existingAlert.remove();
            }

            const alertBox = document.createElement('div');
            alertBox.id = 'customAlertBox';
            alertBox.style.position = 'fixed';
            alertBox.style.top = '20px';
            alertBox.style.left = '50%';
            alertBox.style.transform = 'translateX(-50%)';
            alertBox.style.padding = '15px 25px';
            alertBox.style.backgroundColor = '#ef4444'; // Tailwind red-500
            alertBox.style.color = 'white';
            alertBox.style.borderRadius = '0.5rem';
            alertBox.style.boxShadow = '0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05)';
            alertBox.style.zIndex = '1000';
            alertBox.style.fontSize = '1rem';
            alertBox.style.textAlign = 'center';
            alertBox.textContent = message;

            const closeButton = document.createElement('button');
            closeButton.textContent = '✕';
            closeButton.style.marginLeft = '15px';
            closeButton.style.background = 'none';
            closeButton.style.border = 'none';
            closeButton.style.color = 'white';
            closeButton.style.fontWeight = 'bold';
            closeButton.style.cursor = 'pointer';
            closeButton.onclick = () => alertBox.remove();

            alertBox.appendChild(closeButton);
            document.body.appendChild(alertBox);

            setTimeout(() => {
                if(document.getElementById('customAlertBox')) {
                    alertBox.remove();
                }
            }, 5000); // Auto-dismiss after 5 seconds
        }


        // 페이지 로드 시 질문 표시
        displayQuestions();
    </script>
</body>
</html>
